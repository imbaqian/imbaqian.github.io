<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>求平方根</title>
   <link href="/images/icon/1.ico" rel="shortcut icon" />
   <meta name="author" content="imbaqian" />
   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
</head>

<body class = "site">
    <!-- header -->
    <header class="title">
      <a class="extra" href="/">Home</a>
    </header>

    <div id="post">
<p>求平方根</p>

<p class="meta">2017-4-28 长安大学 </p>

<p>时隔半年，重拾博客，虚度光阴，实在惭愧。</p>

<h2 id="一道开平方的程序题">一道开平方的程序题</h2>

<h3 id="题目">题目：</h3>

<p>Implementint sqrt(int x).
Compute and return the square root of x.</p>

<p>这是一道求平方根的题，遇见多次，却不曾重视，再此好好分析一番。</p>

<h4 id="解法1牛顿迭代法求平方根">解法1：牛顿迭代法求平方根</h4>

<p>求方程f(x)=0的根即求曲线y=f(x)与y=0的交点的横坐标.</p>

<p>牛顿法:
也就是从估计点x0出发,以y=f(x0)+f’(x0)(x-x0)作为对y=f(x)的估计,求得根x1.
x1 = x0 - f(x0) / f’(x0) 依次迭代</p>

<p><img src="http://localhost:4000/blogpic/2017-4-28-1.png" alt="" /></p>

<p>关于”以y=f(x0)+f’(x0)(x-x0)对y=f(x)近似的解释”也就是对曲线y=f(x),那么使用经过(x0,f(x0))点的其切线(这里已知直线斜率和一点的坐标用 y-y0 = k(x-x0) 来求直线方程),进行近似.显然该切线的斜率等于曲线的斜率k=f’(x0),那么该切线的方程为y=f’(x0)(x-x0)+f(x0).(这里是牛顿法的核心,也就是使用切线对曲线进行近似)</p>

<p>对于求开方
也就是求x^2=a的解
这里f(x)=x^2-a,f’(x)=2x.
所以利用上式:
以y=2x0(x-x0)+x0^2,则其根为
x1=x0-(x0^2-a)/2x0=(x0+a/x0)/2</p>

<p>代码为：</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="kt">int</span> <span class="nf">sqrt</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">double</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">Accuracy</span> <span class="o">=</span> <span class="mf">0.0001</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">abs</span><span class="p">(</span><span class="n">ans</span><span class="o">*</span><span class="n">ans</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">Accuracy</span><span class="p">){</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="p">(</span><span class="n">ans</span> <span class="o">+</span> <span class="n">x</span><span class="o">/</span><span class="n">ans</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>


</div>




    <!-- 填充物 -->
    <div class="site-content"></div>
    <!-- footer -->
    <footer class="footer">
      <div class="contact">
        <p>
          GitHub:<br/>
          Email:
        </p>
      </div>
      <div class="contact">
        <p>
          <a href="http://github.com/imbaqian/">github.com/imbaqian</a> <br/>
          <a>sqian416@163.com</a> <br/>
        </p>
      </div>
    </footer>

  
</body>
</html>
